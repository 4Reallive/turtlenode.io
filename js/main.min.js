const apiInterface = 'https://api.turtlenode.io/'
const nodes = [
  { name: 'US-East-1', hostname: 'node-1.nyc.turtlenode.io', port: 11898, region: 'US East' },
  { name: 'US-East-2', hostname: 'node-2.nyc.turtlenode.io', port: 11898, region: 'US East' },
  { name: 'US-East-3', hostname: 'node-3.nyc.turtlenode.io', port: 11898, region: 'US East' },
  { name: 'US-West-1', hostname: 'node-1.sfo.turtlenode.io', port: 11898, region: 'US West' },
  { name: 'US-West-2', hostname: 'node-2.sfo.turtlenode.io', port: 11898, region: 'US West' },
  { name: 'US-West-3', hostname: 'node-3.sfo.turtlenode.io', port: 11898, region: 'US West' },
  { name: 'EU-AMS-1', hostname: 'node-1.ams.turtlenode.io', port: 11898, region: 'Europe' },
  { name: 'EU-AMS-2', hostname: 'node-2.ams.turtlenode.io', port: 11898, region: 'Europe' },
  { name: 'EU-AMS-3', hostname: 'node-3.ams.turtlenode.io', port: 11898, region: 'Europe' }
]

$(document).ready(function(){var d=$("#nodeTable").DataTable({columnDefs:[{targets:[0,1],visible:!1,searchable:!1}],order:[[2,"asc"]],searching:!1,info:!1,paging:!1,lengthMenu:-1});loadTable(d);setInterval(function(){updateTable(d)},3E4)});
function updateTable(d){d.rows().every(function(d,a,c){var b=this.data(),e=this;$.ajax({url:apiInterface+b[0]+"/"+b[1]+"/getinfo?random="+(new Date).getTime(),dataType:"json",type:"GET",cache:"false",success:function(a){a.error?(b[4]=0,b[5]=0,b[6]="0 H/s",b[7]=0,b[8]=0,b[9]=0,b[10]=0,b[11]=0,b[12]="Offline"):(b[4]=a.height,b[5]=a.difficulty,b[6]=(a.globalHashRate/1E6).toFixed(2)+" MH/s",b[7]=a.last_known_block_index,b[8]=a.tx_pool_size,b[9]=a.tx_count,b[10]=a.incoming_connections_count,b[11]=a.outgoing_connections_count,
b[12]=a.status);e.invalidate()}})});d.draw()}
function loadTable(d){$.each(nodes,function(f,a){$.ajax({url:apiInterface+a.hostname+"/"+a.port+"/getinfo?random="+(new Date).getTime(),dataType:"json",type:"GET",cache:"false",success:function(c){c.error?d.row.add([a.hostname,a.port,a.name,a.region,0,0,"0 H/s",0,0,0,0,0,"Offline"]).draw(!1):d.row.add([a.hostname,a.port,a.name,a.region,c.height,c.difficulty,(c.globalHashRate/1E6).toFixed(2)+" MH/s",c.last_known_block_index,c.tx_pool_size,c.tx_count,c.incoming_connections_count,c.outgoing_connections_count,
c.status]).draw(!1)}})})};